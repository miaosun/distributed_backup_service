package muticastMsgs;

import java.io.IOException;

public class MControlReader extends MulticastChannelMsg {

	public MControlReader(String adr, int port) throws IOException {
		super(adr, port);

	}

	@Override
	public void processMsg(String msg) {

		System.out.println("Process Message");
		String[] temp = msg.split(" ");
		String cmd = temp[0].trim();
		System.out.println("O commando: " + cmd);

		if(cmd.equals("STORED")) {
			if(verifyVersion(temp[1].trim())) {

			}
		}
		else if(cmd.equals("GETCHUNK")){
			if(verifyVersion(temp[1].trim())) {

			}
		}
	}

	public Boolean verifyVersion(String version) {
		if(version.length()==3 && version.substring(1,2).equals('.') && Character.isDigit(version.charAt(0)) && Character.isDigit(version.charAt(2))) {
			return true;
		}
		else
			return false;
	}

	public void run() {

	}

}
